# 线段树

## 用途

1. 更新序列的某个值。

2. 查询序列的某个区间的最小值(最大值、区间和)线段树常用于解决区间统计问题。求最值，区间和等操作均可使用该数据结构，本篇以求最小值为例。

3. 更新序列的某个区间内的所有值

## 结构

1. 一颗完全二叉树，像堆一样存储在数组中  
2. 每个节点所代表的区间被左右子树平分，节点的值就是两个区间内的最小值（最大值），比如节点所代表的区间范围是[n,m] 那么左孩子节点的范围是[n, (n + m) / 2]，右孩子节点的范围是[(n+m) / 2 + 1, m]，根节点的值就是左孩子和右孩子节点值的最小值（最大值），也就是区间中的极值
3. 叶子节点的值就是某个索引位置处的值

## 查询时的三种情况

1. 当前区间与待搜索区间不包含  -> 返回极大值表示不存在
2. 当前区间包含了待搜索区间或者与待搜索区间有交集 -> 左右子树递归查询
3. 当前区间在待搜索区间内 -> 取当前区间节点的值